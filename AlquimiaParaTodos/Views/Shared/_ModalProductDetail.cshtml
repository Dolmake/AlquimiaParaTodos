@model AlquimiaParaTodos.Models.Product


<script src="/Scripts/jquery-1.10.2.min.js"
        type="text/javascript"></script>

<script>
    $(document).ready(function () {

        $(".modal-product").click(function () {
            //alert("Name: " + this.name);
            var itemId = this.name;
            $.ajax(
            {
                url: '@Url.Action("ShowDetails", "ShopItem")',
                data: { id: itemId },
                type: "post",
                cache: false,
                success: function (response) {
                      //do what ever you want here to extract the part you want
                        $('#m_modalBody_' + itemId).html(response);
                        $('#m_modal_' + itemId).modal('show');
                },
                error: function () {
                    alert("Se ha producido un error");
                }
            });
        });

        $(".btn-AddToCart").click(function () {
            var itemId = this.name;

            $.ajax(
                {
                    url: '@Url.Action("AddToCart", "ShoppingCart")',
                    data: { id: itemId },
                    type: "post",
                    cache: false
                });
        });
    });

</script>



  <!--MODAL-->
<div class="modal fade" id="m_modal_@Model.ID" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">@ViewBag.AppDescriptor</h4>
            </div>
            <div id="m_modalBody_@Model.ID" class=" modal-body">
                ...
            </div>
           
            @if (ViewData["AddToCartEnabled"] != "false")
            {
                <div class="modal-footer">
                    <button id="m_modalAddToCart" class="btn-AddToCart" name="@Model.ID" data-dismiss="modal">Añadir al carrito</button>
                </div>
            }
        </div>
    </div>
</div>
<!--END MODAL-->          
